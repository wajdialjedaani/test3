<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Accessible Creative Portfolio - Filter & Explore Projects</title>
<style>
  /* Reset and base */
  :root {
    --color-primary: #004d99;
    --color-primary-light: #3366cc;
    --color-primary-dark: #003366;
    --color-secondary: #e68a00;
    --color-secondary-light: #ffb84d;
    --color-secondary-dark: #b36b00;
    --color-bg: #ffffff;
    --color-text: #1a1a1a;
    --color-text-light: #4d4d4d;
    --color-focus: #ffbf47;
    --color-error: #cc3300;
    --color-success: #007a29;
    --color-muted: #666666;
    --font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    --border-radius: 8px;
    --transition-time: 0.3s;
    --min-touch-size: 44px;
  }
  @media (prefers-reduced-motion: reduce) {
    * {
      animation-duration: 0.001ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.001ms !important;
      scroll-behavior: auto !important;
    }
  }
  html {
    font-size: 100%;
    scroll-behavior: smooth;
  }
  body {
    margin: 0;
    font-family: var(--font-family);
    line-height: 1.6;
    background: var(--color-bg);
    color: var(--color-text);
    max-width: 80ch;
    margin-left: auto;
    margin-right: auto;
    padding: 1rem 1.5rem 4rem 1.5rem;
  }
  a {
    color: var(--color-primary);
    text-decoration: underline;
  }
  a:focus,
  button:focus,
  input:focus,
  select:focus,
  textarea:focus {
    outline: 3px solid var(--color-focus);
    outline-offset: 3px;
  }
  /* Skip link */
  .skip-link {
    position: absolute;
    top: -40px;
    left: 1rem;
    background: var(--color-primary);
    color: var(--color-bg);
    padding: 0.5rem 1rem;
    z-index: 100;
    border-radius: var(--border-radius);
    font-weight: 700;
    text-decoration: none;
    transition: top 0.3s ease;
  }
  .skip-link:focus {
    top: 1rem;
  }
  header {
    border-bottom: 3px solid var(--color-primary);
    margin-bottom: 1.5rem;
  }
  header h1 {
    font-size: 2rem;
    margin: 0;
    padding: 0.5rem 0;
    color: var(--color-primary-dark);
  }
  nav[aria-label="Primary"] {
    margin: 1rem 0 2rem 0;
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
  }
  nav[aria-label="Primary"] button {
    background: var(--color-secondary-light);
    border: 2px solid var(--color-secondary-dark);
    border-radius: var(--border-radius);
    color: var(--color-secondary-dark);
    font-weight: 600;
    padding: 0.5rem 1rem;
    cursor: pointer;
    min-width: var(--min-touch-size);
    min-height: var(--min-touch-size);
    transition: background-color var(--transition-time), color var(--transition-time),
      border-color var(--transition-time);
  }
  nav[aria-label="Primary"] button[aria-pressed="true"],
  nav[aria-label="Primary"] button:hover,
  nav[aria-label="Primary"] button:focus {
    background: var(--color-secondary-dark);
    color: var(--color-bg);
    border-color: var(--color-secondary-light);
  }
  main {
    outline: none;
  }
  section#projects {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.5rem;
  }
  article.project-card {
    border: 2px solid var(--color-primary-light);
    border-radius: var(--border-radius);
    background: var(--color-bg);
    box-shadow: 0 4px 8px rgba(0, 77, 153, 0.15);
    display: flex;
    flex-direction: column;
    transition: transform var(--transition-time), box-shadow var(--transition-time);
  }
  article.project-card:focus-within,
  article.project-card:hover {
    transform: translateY(-6px);
    box-shadow: 0 8px 16px rgba(0, 77, 153, 0.3);
    border-color: var(--color-primary-dark);
  }
  article.project-card > a {
    color: inherit;
    text-decoration: none;
    display: flex;
    flex-direction: column;
    height: 100%;
  }
  article.project-card img {
    border-top-left-radius: var(--border-radius);
    border-top-right-radius: var(--border-radius);
    width: 100%;
    height: auto;
    object-fit: cover;
  }
  article.project-card h3 {
    font-size: 1.25rem;
    margin: 0.75rem 1rem 0.25rem 1rem;
    color: var(--color-primary-dark);
  }
  article.project-card p.project-summary {
    margin: 0 1rem 1rem 1rem;
    color: var(--color-text-light);
    flex-grow: 1;
  }
  article.project-card .project-categories {
    margin: 0 1rem 1rem 1rem;
    font-size: 0.875rem;
    color: var(--color-secondary-dark);
    font-weight: 600;
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
  }
  article.project-card .project-categories span {
    background: var(--color-secondary-light);
    border-radius: 12px;
    padding: 0.15rem 0.5rem;
    color: var(--color-secondary-dark);
  }
  /* Hover detail overlay */
  article.project-card .project-detail {
    position: absolute;
    inset: 0;
    background: rgba(0, 77, 153, 0.9);
    color: var(--color-bg);
    opacity: 0;
    pointer-events: none;
    border-radius: var(--border-radius);
    padding: 1rem;
    display: flex;
    flex-direction: column;
    justify-content: center;
    transition: opacity var(--transition-time);
    font-size: 0.9rem;
    line-height: 1.4;
  }
  article.project-card:hover .project-detail,
  article.project-card:focus-within .project-detail {
    opacity: 1;
    pointer-events: auto;
  }
  article.project-card .project-detail h4 {
    margin-top: 0;
    margin-bottom: 0.5rem;
    font-weight: 700;
    font-size: 1.1rem;
  }
  /* Project card wrapper for relative positioning */
  article.project-card > a {
    position: relative;
    display: flex;
    flex-direction: column;
    height: 100%;
  }
  /* Search and filter container */
  #filter-controls {
    margin-bottom: 2rem;
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 1rem;
  }
  #filter-controls label {
    font-weight: 700;
    color: var(--color-primary-dark);
  }
  #filter-controls input[type="search"] {
    border: 2px solid var(--color-primary-light);
    border-radius: var(--border-radius);
    padding: 0.5rem 1rem;
    font-size: 1rem;
    color: var(--color-text);
    min-width: 280px;
    max-width: 100%;
    transition: border-color var(--transition-time);
  }
  #filter-controls input[type="search"]:focus {
    border-color: var(--color-primary-dark);
  }
  /* Responsive adjustments */
  @media (max-width: 600px) {
    body {
      padding: 1rem 1rem 3rem 1rem;
    }
    nav[aria-label="Primary"] {
      justify-content: center;
    }
    #filter-controls {
      flex-direction: column;
      align-items: stretch;
    }
    #filter-controls label {
      margin-bottom: 0.25rem;
    }
  }
  /* Footer */
  footer {
    margin-top: 4rem;
    border-top: 3px solid var(--color-primary);
    padding-top: 1rem;
    font-size: 0.875rem;
    color: var(--color-text-light);
    text-align: center;
  }
  /* Focus styles for keyboard users */
  button:focus-visible,
  a:focus-visible {
    outline-offset: 3px;
    outline: 3px solid var(--color-focus);
  }
  /* Visually hidden (for aria-live regions) */
  .visually-hidden {
    position: absolute !important;
    width: 1px !important;
    height: 1px !important;
    padding: 0 !important;
    margin: -1px !important;
    overflow: hidden !important;
    clip: rect(0, 0, 0, 0) !important;
    white-space: nowrap !important;
    border: 0 !important;
  }
  /* Tooltip icon for categories - additional visual indicator */
  .project-categories span::before {
    content: "●";
    display: inline-block;
    color: var(--color-secondary-dark);
    margin-right: 0.3em;
    font-size: 1rem;
    line-height: 1;
  }
</style>
</head>
<body>
<a href="#maincontent" class="skip-link" role="link" aria-label="Skip to main content">Skip to main content</a>

<header>
  <h1 id="page-title">Accessible Creative Portfolio</h1>
  <nav aria-label="Primary" role="navigation" id="category-filter">
    <button type="button" aria-pressed="true" data-category="all" id="filter-all">All Projects</button>
    <button type="button" aria-pressed="false" data-category="web" id="filter-web">Web Development</button>
    <button type="button" aria-pressed="false" data-category="design" id="filter-design">Design</button>
    <button type="button" aria-pressed="false" data-category="photography" id="filter-photography">Photography</button>
    <button type="button" aria-pressed="false" data-category="writing" id="filter-writing">Writing</button>
  </nav>
</header>

<main id="maincontent" tabindex="-1" aria-labelledby="page-title">
  <section aria-labelledby="filter-label" id="filter-controls">
    <label for="search-projects" id="filter-label">Search Projects:</label>
    <input 
      type="search" 
      id="search-projects" 
      name="search-projects" 
      aria-describedby="search-help" 
      placeholder="Type keywords to filter projects" 
      autocomplete="off" 
      inputmode="search" 
      aria-label="Search projects by keywords"
    />
    <p id="search-help" class="visually-hidden">Enter keywords to filter projects by title or description.</p>
  </section>

  <section id="projects" aria-live="polite" aria-relevant="additions removals" aria-atomic="true" tabindex="0" aria-label="Portfolio projects">
    <!-- Project cards inserted by JS -->
  </section>
</main>

<footer role="contentinfo">
  <p>© 2024 Accessible Creative Portfolio. All rights reserved.</p>
  <p>Contact: <a href="mailto:creator@example.com">creator@example.com</a></p>
</footer>

<script>
(() => {
  'use strict';

  // Data for projects
  const projects = [
    {
      id: 'proj1',
      title: 'Responsive Portfolio Website',
      summary: 'A fully responsive portfolio website built with HTML5, CSS Grid, and JavaScript, optimized for accessibility and performance.',
      categories: ['web', 'design'],
      image: {
        src: 'https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=600&q=80',
        alt: 'Screenshot of a responsive portfolio website homepage showing a clean layout with navigation and project cards.'
      },
      details: 'This project showcases advanced CSS Grid layouts, semantic HTML5 structure, and dynamic JavaScript filtering with accessibility best practices.'
    },
    {
      id: 'proj2',
      title: 'Creative Logo Design',
      summary: 'A vibrant and modern logo design project for a startup brand, focusing on color theory and scalable vector graphics.',
      categories: ['design'],
      image: {
        src: 'https://images.unsplash.com/photo-1498050108023-c5249f4df085?auto=format&fit=crop&w=600&q=80',
        alt: 'Colorful vector logo design with geometric shapes and gradients.'
      },
      details: 'The logo was created using vector graphics software with attention to color contrast and brand identity guidelines.'
    },
    {
      id: 'proj3',
      title: 'Urban Photography Series',
      summary: 'A collection of high-contrast black and white urban photography capturing architectural details and street life.',
      categories: ['photography'],
      image: {
        src: 'https://images.unsplash.com/photo-1468071174046-657d9d351a40?auto=format&fit=crop&w=600&q=80',
        alt: 'Black and white photograph of a city street with dramatic shadows and architectural elements.'
      },
      details: 'This series emphasizes light and shadow interplay, composition, and storytelling through urban environments.'
    },
    {
      id: 'proj4',
      title: 'Technical Writing: Web Accessibility',
      summary: 'An in-depth article series on web accessibility best practices, focusing on WCAG 2.2 AAA compliance and real-world implementation.',
      categories: ['writing'],
      image: {
        src: 'https://images.unsplash.com/photo-1515377905703-c4788e51af15?auto=format&fit=crop&w=600&q=80',
        alt: 'Open laptop with code and writing notes on a desk, illustrating technical writing.'
      },
      details: 'The articles cover guidelines, examples, and testing strategies to create inclusive web experiences.'
    },
    {
      id: 'proj5',
      title: 'Interactive Data Visualization',
      summary: 'A dynamic data visualization dashboard using vanilla JavaScript and SVG, featuring filters, tooltips, and accessible chart descriptions.',
      categories: ['web', 'design'],
      image: {
        src: 'https://images.unsplash.com/photo-1504384308090-c894fdcc538d?auto=format&fit=crop&w=600&q=80',
        alt: 'Colorful interactive chart with bars and lines representing data trends.'
      },
      details: 'Designed with keyboard navigation and screen reader support, including detailed aria-describedby for complex charts.'
    },
    {
      id: 'proj6',
      title: 'Nature Photography Portfolio',
      summary: 'A curated gallery of nature and wildlife photographs with detailed alt text and descriptions for accessibility.',
      categories: ['photography'],
      image: {
        src: 'https://images.unsplash.com/photo-1500534623283-312aade485b7?auto=format&fit=crop&w=600&q=80',
        alt: 'Close-up photograph of a butterfly on a vibrant flower in a natural setting.'
      },
      details: 'Each photo includes descriptive alt text and extended descriptions for users with visual impairments.'
    },
    {
      id: 'proj7',
      title: 'Blog Platform UI/UX Design',
      summary: 'Design and prototyping of a clean, user-friendly blog platform interface emphasizing readability and navigation.',
      categories: ['design', 'web'],
      image: {
        src: 'https://images.unsplash.com/photo-1498050108023-c5249f4df085?auto=format&fit=crop&w=600&q=80',
        alt: 'User interface design mockup of a blog platform showing article lists and navigation.'
      },
      details: 'Focused on typographic scale, color contrast, and intuitive navigation patterns.'
    },
    {
      id: 'proj8',
      title: 'Creative Writing: Short Stories',
      summary: 'A collection of original short stories exploring themes of identity, culture, and technology.',
      categories: ['writing'],
      image: {
        src: 'https://images.unsplash.com/photo-1515377905703-c4788e51af15?auto=format&fit=crop&w=600&q=80',
        alt: 'Open notebook with handwritten text and a pen, symbolizing creative writing.'
      },
      details: 'Stories are crafted with clear narrative structure and accessible language.'
    }
  ];

  // Elements
  const categoryNav = document.getElementById('category-filter');
  const projectsContainer = document.getElementById('projects');
  const searchInput = document.getElementById('search-projects');

  // State
  let activeCategory = 'all';
  let searchTerm = '';

  // Helper: Sanitize text for accessibility (escape HTML)
  function escapeHTML(str) {
    return str.replace(/[&<>"']/g, (m) => {
      switch (m) {
        case '&': return '&amp;';
        case '<': return '&lt;';
        case '>': return '&gt;';
        case '"': return '&quot;';
        case "'": return '&#39;';
        default: return m;
      }
    });
  }

  // Render projects filtered by category and search
  function renderProjects() {
    // Filter projects by category and search term
    const filtered = projects.filter(project => {
      const matchesCategory = activeCategory === 'all' || project.categories.includes(activeCategory);
      const searchLower = searchTerm.trim().toLowerCase();
      const matchesSearch = searchLower === '' || 
        project.title.toLowerCase().includes(searchLower) ||
        project.summary.toLowerCase().includes(searchLower) ||
        project.details.toLowerCase().includes(searchLower);
      return matchesCategory && matchesSearch;
    });

    // Clear container
    projectsContainer.innerHTML = '';

    if (filtered.length === 0) {
      const noResults = document.createElement('p');
      noResults.textContent = 'No projects match your filter criteria.';
      noResults.style.color = 'var(--color-error)';
      noResults.setAttribute('role', 'alert');
      projectsContainer.appendChild(noResults);
      return;
    }

    filtered.forEach(project => {
      const article = document.createElement('article');
      article.className = 'project-card';
      article.setAttribute('tabindex', '-1');
      article.setAttribute('aria-labelledby', `${project.id}-title`);
      article.setAttribute('aria-describedby', `${project.id}-summary`);

      // Link wrapper
      const link = document.createElement('a');
      link.href = `#${project.id}-details`;
      link.setAttribute('aria-describedby', `${project.id}-details-desc`);
      link.setAttribute('aria-label', `${project.title} project, click to read more details`);
      link.tabIndex = 0;

      // Image
      const img = document.createElement('img');
      img.src = project.image.src;
      img.alt = project.image.alt;
      img.loading = 'lazy';
      img.decoding = 'async';
      link.appendChild(img);

      // Title
      const h3 = document.createElement('h3');
      h3.id = `${project.id}-title`;
      h3.textContent = project.title;
      link.appendChild(h3);

      // Summary
      const summary = document.createElement('p');
      summary.className = 'project-summary';
      summary.id = `${project.id}-summary`;
      summary.textContent = project.summary;
      link.appendChild(summary);

      // Categories
      const catContainer = document.createElement('div');
      catContainer.className = 'project-categories';
      project.categories.forEach(cat => {
        const span = document.createElement('span');
        span.textContent = categoryName(cat);
        span.setAttribute('aria-label', `Category: ${categoryName(cat)}`);
        catContainer.appendChild(span);
      });
      link.appendChild(catContainer);

      // Detail overlay (visible on hover/focus)
      const detailOverlay = document.createElement('div');
      detailOverlay.className = 'project-detail';
      detailOverlay.setAttribute('aria-hidden', 'true');
      const detailHeading = document.createElement('h4');
      detailHeading.textContent = 'Project Details';
      detailOverlay.appendChild(detailHeading);
      const detailText = document.createElement('p');
      detailText.id = `${project.id}-details-desc`;
      detailText.textContent = project.details;
      detailOverlay.appendChild(detailText);

      link.appendChild(detailOverlay);

      article.appendChild(link);
      projectsContainer.appendChild(article);
    });
  }

  // Return human-readable category name
  function categoryName(cat) {
    switch (cat) {
      case 'all': return 'All Projects';
      case 'web': return 'Web Development';
      case 'design': return 'Design';
      case 'photography': return 'Photography';
      case 'writing': return 'Writing';
      default: return cat;
    }
  }

  // Handle category filter button clicks and keyboard
  function onCategoryClick(event) {
    const target = event.target;
    if (target.tagName !== 'BUTTON') return;

    const newCategory = target.getAttribute('data-category');
    if (!newCategory) return;

    if (newCategory === activeCategory) return; // no change

    // Update aria-pressed and styles
    const buttons = categoryNav.querySelectorAll('button');
    buttons.forEach(btn => {
      btn.setAttribute('aria-pressed', btn === target ? 'true' : 'false');
    });

    activeCategory = newCategory;
    renderProjects();
    // Announce filter change
    announceLive(`Filtered projects by category: ${categoryName(activeCategory)}.`);
  }

  // Keyboard navigation for category buttons (Arrow keys)
  function onCategoryKeyDown(event) {
    const buttons = Array.from(categoryNav.querySelectorAll('button'));
    const currentIndex = buttons.indexOf(event.target);
    if (currentIndex === -1) return;

    switch (event.key) {
      case 'ArrowRight':
      case 'ArrowDown':
        event.preventDefault();
        const nextIndex = (currentIndex + 1) % buttons.length;
        buttons[nextIndex].focus();
        break;
      case 'ArrowLeft':
      case 'ArrowUp':
        event.preventDefault();
        const prevIndex = (currentIndex - 1 + buttons.length) % buttons.length;
        buttons[prevIndex].focus();
        break;
      case 'Home':
        event.preventDefault();
        buttons[0].focus();
        break;
      case 'End':
        event.preventDefault();
        buttons[buttons.length - 1].focus();
        break;
      case 'Enter':
      case ' ':
        event.preventDefault();
        buttons[currentIndex].click();
        break;
      default:
        break;
    }
  }

  // Announce live region updates for screen readers
  let liveRegion = null;
  function createLiveRegion() {
    liveRegion = document.createElement('div');
    liveRegion.className = 'visually-hidden';
    liveRegion.setAttribute('aria-live', 'polite');
    liveRegion.setAttribute('aria-atomic', 'true');
    document.body.appendChild(liveRegion);
  }
  function announceLive(message) {
    if (!liveRegion) createLiveRegion();
    liveRegion.textContent = '';
    // Delay update to ensure screen readers notice change
    setTimeout(() => {
      liveRegion.textContent = message;
    }, 100);
  }

  // Handle search input with debouncing
  let searchTimeout = null;
  function onSearchInput(event) {
    clearTimeout(searchTimeout);
    searchTimeout = setTimeout(() => {
      searchTerm = event.target.value;
      renderProjects();
      announceLive(`Filtered projects by search term: ${searchTerm || 'none'}.`);
    }, 300);
  }

  // Initialization
  function init() {
    // Render all projects initially
    renderProjects();

    // Event listeners
    categoryNav.addEventListener('click', onCategoryClick);
    categoryNav.addEventListener('keydown', onCategoryKeyDown);
    searchInput.addEventListener('input', onSearchInput);

    // Keyboard shortcut: focus search input with Ctrl+F or Cmd+F (overrides browser find)
    window.addEventListener('keydown', (e) => {
      if ((e.ctrlKey || e.metaKey) && e.key.toLowerCase() === 'f') {
        e.preventDefault();
        searchInput.focus();
      }
    });
  }

  // Run init on DOM ready
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', init);
  } else {
    init();
  }
})();
</script>
</body>
</html>